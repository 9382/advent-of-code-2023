code2-translated exists as a way to get around the out-of-memory issue experienced in the lua version. This did actually get around the issue (at the cost of making something that peaks at 12GB when it runs), but got the wrong solution despite working on every given test-case. I am therefore giving up here